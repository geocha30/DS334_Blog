---
title: "Oh Mamma Mia!"
author: "George Charalambous"
date: "2024-02-19"
categories: [racing, cars]
image: "ferrari_downfall.jpeg"
table-of-contents: true
---

## Introduction



## Past Triumphs



## Championship Draught



## Why?



## What is the magnitude of Underperforming Compared to the Team's Past and Current Competitors?



__URL__: https://www.kaggle.com/datasets/rohanrao/formula-1-world-championship-1950-2020/data

```{r Load the appropriate packages}
#| warning: false
library(tidyverse)
library(here)
```

```{r Load the appropriate data sets}
#| warning: false
lap_times <- read.csv("~/Desktop/Sixth Semester/DS334_Blog/data/formula1/lap_times.csv")
drivers <- read.csv("~/Desktop/Sixth Semester/DS334_Blog/data/formula1/drivers.csv")
races <- read.csv("~/Desktop/Sixth Semester/DS334_Blog/data/formula1/races.csv")
results <- read.csv("~/Desktop/Sixth Semester/DS334_Blog/data/formula1/results.csv")
```

```{r Prepare the data sets}
#| warning: false
lap_df <- left_join(lap_times, drivers, by = "driverId")
races_df <- left_join(lap_df, races, by = "raceId")
races_df <- races_df |>
  select(-c(19:31))
results <- results |>
  select(c(1:3), 7)
```

```{r Merge the prior data sets and clear the unecessary columns}
#| warning: false
full_df <- left_join(races_df, results, by = "driverId")
full_df <- full_df |>
  select(-c(1:3, 6:9, 12:14, 16, 17, 19, 20))
```

```{r Remove the duplicate rows}
#| warning: false
## Keep the distinct rows and get rid of the multiple duplicates
full_df <- full_df |>
  distinct(position.x, time.x, forename, surname, year, name)
```

```{r Rename columns}
#| warning: false
full_df <- full_df |>
  rename(
    `Lap Time` = time.x, 
    `Circuit` = name, 
    `Year` = year, 
    `Position` = position.x) |>
  unite(Driver, c(forename, surname), sep = " ")
```

```{r Modify Lap Time Columns}
#| warning: false
testing <- full_df |>
  filter(!is.na(`Lap Time`)) |>
  separate(`Lap Time`, into = c("Minutes", "Seconds"), sep = ":") |>
  separate(Seconds, into = c("Seconds", "Milliseconds"), sep = +3)
```

```{r Convert Character Columns to Numeric}
#| warning: false
testing$minutes <- as.numeric(testing$Minutes)
testing$seconds <- as.numeric(testing$Seconds)
testing$milliseconds <- as.numeric(testing$Milliseconds)
```

```{r Get an Accurate Lap Time Column}
#| warning: false
testing <- testing |>
  select(-c(2:4)) |>
  mutate(minutes_to_Seconds = minutes * 60, 
         milliseconds_to_Seconds = milliseconds / 1000) |>
  mutate(`Lap Time` = minutes_to_Seconds + seconds + milliseconds_to_Seconds)
```

First Question: Number of Championships, both Constructor and Individual
                Number of Pole Positions

Second Question: The difference in speed vs its oppponets these past few years

